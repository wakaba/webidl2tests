
      <!DOCTYPE HTML>
      <html lang=en>
        <meta charset=utf-8>
        <title>webidl2tests</title>
        <link rel=stylesheet href="https://manakai.github.io/css/pod.css">
        <meta name=viewport content="width=device-width">

        <h1><a href="../" rel=top>webidl2tests</a></h1>

        





<section id="NAME"><h1>NAME</h1>

<p>wttjs.pl - WebIDL ECMAScript Binding Test Suite Generator</p>

</section><section id="SYNOPSIS"><h1>SYNOPSIS</h1>

<pre><code>  $ perl wttjs.pl \
        --idl-file-name input.idl \
        --instances-file-name input.json \
        --test-dir-name output-dir/ \
        --testset-id testname

  $ perl wttjs.pl --help</code></pre>

</section><section id="DESCRIPTION"><h1>DESCRIPTION</h1>

<p>The script <code>wttjs.pl</code> generates a set of test cases for the conformance of a Web browser's DOM implementation, with regard to a set of interfaces described by a WebIDL fragment.</p>

<p>For more information, see the readme document <a href="https://suika.suikawiki.org/www/webidl2tests/readme" class="podlinkurl">https://suika.suikawiki.org/www/webidl2tests/readme</a>.</p>

</section><section id="ARGUMENTS"><h1>ARGUMENTS</h1>

<p>This script accepts command-line arguments in the <a href="../Getopt/Long" class="podlinkpod">Getopt::Long</a> style. Any argument can be specified at most once.</p>

<dl>
<dt id="--help"><code>--help</code></dt>

<dd>
<p>Show the help on the command-line arguments and exit the script.</p>

</dd><dt id="--idl-file-name_file-name.idl_(REQUIRED)"><code>--idl-file-name <i>file-name.idl</i></code> (<b>REQUIRED</b>)</dt>

<dd>
<p>The name or path of the file that contains the IDL fragment that defines a set of interfaces and exceptions to be tested against.</p>

<p>If this argument is not specified, if the specified file is not found, or if the file cannot be read due to some I/O error, the script would exit with an error message.</p>

<p>The file must be encoded in UTF-8 (Perl's <code>utf-8</code> encoding). Otherwise, the result test cases might be broken.</p>

<p>The file must contain a syntactically valid IDL fragment. Any failure to conform to the WebIDL syntax would be reported to the standard error output. Such errors are handled by the CSS-like forward-compatible parsing rule as implemented by the <a href="../Whatpm/WebIDL" class="podlinkpod">Whatpm::WebIDL</a> parser.</p>

<p>Though the content of the file don't have to be a conforming IDL fragment, the result test cases might be broken if it is not. It is encouraged to check the conformance of the input IDL fragment by a conformance checker, e.g. WebHACC <a href="https://suika.suikawiki.org/gate/2007/html/cc/" class="podlinkurl">https://suika.suikawiki.org/gate/2007/html/cc/</a>.</p>

</dd><dt id="--instances-file-name_file-name.json_(Default:_No_instance_generation)"><code>--instances-file-name <i>file-name.json</i></code> (Default: No instance generation)</dt>

<dd>
<p>The name or path of the file that contains supplement information on interfaces and exceptions defined in the IDL fragment.</p>

<p>If the specified file is not found, or if the file cannot be read due to some I/O error, the script would exit with an error message.</p>

<p>The file must be encoded in UTF-8 (Perl's <code>utf-8</code> encoding). Otherwise, the file might be considered as broken, or the result test cases might be broken.</p>

<p>The file must contain a JSON representation of a data structure described in the readme document. If the content is not valid as JSON, then the script would exit with an error message. If the content does not encode the data structure specified in the readme document, the script might exit with a Perl script execution error. Even when no Perl error stops the script, the result test cases might be broken.</p>

<p>If this argument is not specified, then it is assumed that no additional information is available.</p>

</dd><dt id="--test-dir-name_path-to-dir/_(Default:_./tests/)"><code>--test-dir-name <i>path-to-dir/</i></code> (Default: <code>./tests/</code>)</dt>

<dd>
<p>The name or path of the directory, in which the directory for the test files is created.</p>

<p>The default value that is used when this argument is not specified is <code>./tests/</code>.</p>

<p>All files generated by this script is put into the directory <code><i>test-dir-name</i>/<i>testset-id</i>/</code>, where <var>test-dir-name</var> is the value specified by the <code>--test-dir-name</code> argument and <var>testset-id</var> is the value specified by the <code>--testset-id</code> argument. If there is no such a directory, then it is created by the script.</p>

</dd><dt id="--testset-id_id_(REQUIRED)"><code>--testset-id <i>id</i></code> (<b>REQUIRED</b>)</dt>

<dd>
<p>The identifier of the test suite.</p>

<p>If this argument is not specified, the script would exit with an error message.</p>

<p>Though any value can be specified as identifier, it should be a string consist of characters <code>a</code>..<code>z</code>, <code>0</code>..<code>9</code>, and <code>-</code> only, with no leading <code>-</code> character, for filesystem safety and compatibility with the test result summary script (see the readme document).</p>
</dd>
</dl>

</section><section id="DEPENDENCY"><h1>DEPENDENCY</h1>

<p>This script, in addition to Perl 5.8.* or later, requires the following modules:</p>

<dl>
<dt><a href="../JSON" class="podlinkpod">JSON</a></dt>

<dd>
<p>A JSON parser and serializer, which is available from CPAN.</p>

<p>To install the <a href="../JSON" class="podlinkpod">JSON</a> module from the CPAN, type:</p>

<pre><code>  # perl -MCPAN -eshell
  cpan&gt; install JSON</code></pre>

</dd><dt><a href="../Whatpm/WebIDL" class="podlinkpod">Whatpm::WebIDL</a></dt>

<dd>
<p>A WebIDL parser and object model implementation, which is part of the Whatpm package <a href="https://suika.suikawiki.org/www/markup/html/whatpm/readme" class="podlinkurl">https://suika.suikawiki.org/www/markup/html/whatpm/readme</a>.</p>

<p>Note that <a href="../Whatpm/WebIDL" class="podlinkpod">Whatpm::WebIDL</a> does not depend on any other module.</p>

<p>If you are using the Git version, the manakai repository is found in the <code>modules/manakai</code> directory as a submodule, so you only have to clone it by:</p>

<pre><code>  $ git submodule update --init</code></pre>
</dd>
</dl>

</section><section id="SEE_ALSO"><h1>SEE ALSO</h1>

<p>Readme <a href="https://suika.suikawiki.org/www/webidl2tests/readme" class="podlinkurl">https://suika.suikawiki.org/www/webidl2tests/readme</a>.</p>

<p>Web IDL specification, revision 1.96 (3 September 2008 Editor's Draft) <a href="http://dev.w3.org/cvsweb/~checkout~/2006/webapi/WebIDL/Overview.html?rev=1.96&amp;content-type=text/html;%20charset=utf-8" class="podlinkurl">http://dev.w3.org/cvsweb/~checkout~/2006/webapi/WebIDL/Overview.html?rev=1.96&amp;content-type=text/html;%20charset=utf-8</a>.</p>

<p><a href="../Whatpm/WebIDL" class="podlinkpod">Whatpm::WebIDL</a>, which is used to parse IDL fragments.</p>

</section><section id="AUTHOR"><h1>AUTHOR</h1>

<p>Wakaba &lt;wakaba@suikawiki.org&gt;</p>

</section><section id="LICENSE"><h1>LICENSE</h1>

<p>Copyright 2008-2011 Wakaba &lt;wakaba@suikawiki.org&gt;.</p>

<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>




</section>

        <sw-ads normal></sw-ads>
        <script src="https://manakai.github.io/js/global.js" async></script>

        <footer>
          <ul>
          <li><a href="../" rel=top>Top</a>
          </ul>
        </footer>
        <sw-ads-notes></sw-ads-notes>
    